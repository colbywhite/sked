<div class="container-fluid">
    <section class="col-md-4 col-xs-12 " ng-controller="TeamsController">
        <h3 class="h3 text-center col-xs-12 col-md-12">Team Filters</h3>

        <div class="text-center row" style="margin-bottom: 2em">
            <button class="btn btn-default btn-xs"
                    ng-click="clearAll()">
                <i class="fa fa-close"></i>
                clear all
            </button>
            <button class="btn btn-default btn-xs hidden-md hidden-lg teamToggles collapse"
                    data-toggle="collapse" data-target=".teamToggles"
                    >
                <i class="fa fa-eye-slash"></i>
                hide filters
            </button>
            <button class="btn btn-default btn-xs hidden-md hidden-lg teamToggles collapse in"
                    data-toggle="collapse" data-target=".teamToggles"
                    >
                <i class="fa fa-eye"></i>
                show filters
            </button>
        </div>

        <div class="row">
            <form name="teamform" id="teamform"
                  class="col-md-12 col-xs-12 mobile-collapse teamToggles"
                  ng-if="teams.length>0"
                  style="margin-bottom: 2em;">
                <div ng-repeat="team in teams">
                    <div class="col-md-6 col-xs-6">
                        <div class="row" style="margin-top: 2px; margin-bottom: 2px;">
                            <div class="col-md-5 col-xs-6 btn-group"
                                 data-toggle="buttons"
                                    >
                                <!-- Home labels-->
                                <!-- add class active if it's in home_teams-->
                                <!-- TODO use ng-class for this ... DRY-->
                                <label
                                        ng-if="!contains(home_teams, team.id)"
                                        class="btn btn-default btn-xs col-xs-6 col-md-6"
                                        ng-click="addHome(team.id)"
                                        >
                                    <input type="checkbox"
                                           autocomplete="off"
                                            />
                                    <i class="fa fa-home"></i>
                                </label>
                                <label
                                        ng-if="contains(home_teams, team.id)"
                                        class="btn btn-default btn-xs col-xs-6 col-md-6 active"
                                        ng-click="addHome(team.id)"
                                        >
                                    <input type="checkbox"
                                           autocomplete="off"
                                            />
                                    <i class="fa fa-home"></i>
                                </label>

                                <!-- Away labels-->
                                <!-- add class active if it's in away_teams-->
                                <!-- TODO use ng-class for this ... DRY-->
                                <label
                                        ng-if="!contains(away_teams, team.id)"
                                        class="btn btn-default btn-xs col-xs-6 col-md-6"
                                        ng-click="addAway(team.id)"
                                        >
                                    <input type="checkbox"
                                           autocomplete="off"
                                            />
                                    <i class="fa fa-road"></i>
                                </label>
                                <label
                                        ng-if="contains(away_teams, team.id)"
                                        class="btn btn-default btn-xs col-xs-6 col-md-6 active"
                                        ng-click="addAway(team.id)"
                                        >
                                    <input type="checkbox"
                                           autocomplete="off"
                                            />
                                    <i class="fa fa-road"></i>
                                </label>
                            </div>
                            <div class="col-md-6 col-xs-6 text-center">

                                <div class="col-md-6 col-xs-6">
                                    <img class="logo text-center" ng-src="{{team.logo}}"/>
                                </div>
                                <div class="col-md-6 col-xs-6 text-center">
                                    {{team.abbr}}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </section>


    <section class="table-responsive col-md-8 col-xs-12" ng-controller="GamesController">
        <i class="fa fa-spinner fa-spin text-center" ng-hide="count>0"></i>
        <table class="table table-striped table-condensed col-md-8 col-xs-12" ng-if="count>0">
            <caption class="text-center h3">{{count}} games found <br/>
                <small><a ng-href="{{permalink()}}">permalink</a></small>
            </caption>
            <thead>
            <tr>
                <th>Date</th>
                <th>Away</th>
                <th>Home</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="game in games">
                <!--time-->
                <td class="hidden-md hidden-lg">{{convertTime(game.time, true)}}</td>
                <td class="hidden-sm hidden-xs">{{convertTime(game.time, false)}}</td>

                <!--away-->
                <td class="hidden-md hidden-lg">
                    <img class="logo" ng-src="{{game.away.logo}}"/>
                    {{game.away.abbr}}
                </td>
                <td class="hidden-sm hidden-xs">
                    <img class="logo" ng-src="{{game.away.logo}}"/>
                    {{game.away.name}}
                </td>

                <!--home-->
                <td class="hidden-md hidden-lg">
                    <img class="logo" ng-src="{{game.home.logo}}"/>
                    {{game.home.abbr}}
                </td>
                <td class="hidden-sm hidden-xs">
                    <img class="logo" ng-src="{{game.home.logo}}"/>
                    {{game.home.name}}
                </td>
            </tr>
            </tbody>
        </table>
    </section>
</div>
